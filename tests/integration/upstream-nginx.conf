events {
    worker_connections 64;
}

http {
    access_log off;

    server {
        listen 80;
        server_name localhost;

        # Fast response endpoint
        location /fast {
            return 200 'OK';
            add_header Content-Type text/plain;
        }

        # Slow response endpoint (nginx doesn't have native delay, use echo module workaround)
        # For testing purposes, this returns immediately
        location /slow {
            return 200 'OK';
            add_header Content-Type text/plain;
        }

        # Delay endpoint - returns immediately (no delay support in plain nginx)
        location /delay {
            return 200 'OK';
            add_header Content-Type text/plain;
        }

        # Error endpoints
        location /error/500 {
            return 500 'Internal Server Error';
        }

        location /error/502 {
            return 502 'Bad Gateway';
        }

        location /error/503 {
            return 503 'Service Unavailable';
        }

        # Default
        location / {
            return 200 'Hello from upstream';
            add_header Content-Type text/plain;
        }
    }
}
